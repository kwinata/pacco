

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pacco Tutorial &mdash; Pacco - binary package manager  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Pacco - binary package manager
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api_docs/index.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../diagram.html">Design Diagram</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial/index.html">Pacco Tutorial</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Pacco - binary package manager</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Pacco Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/source/tutorial/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pacco-tutorial">
<h1>Pacco Tutorial<a class="headerlink" href="#pacco-tutorial" title="Permalink to this headline">¶</a></h1>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>Make sure that you are using python &gt;= 3.7
Install the pacco from pip: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pacco</span></code> and check the installation by <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">--version</span></code></p>
<p>Let us download some file for example purposes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">codeload</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">openssl</span><span class="o">/</span><span class="n">openssl</span><span class="o">/</span><span class="nb">zip</span><span class="o">/</span><span class="n">OpenSSL_1_1_1d</span> <span class="o">&gt;</span> <span class="n">openssl</span><span class="o">.</span><span class="n">zip</span>
<span class="n">unzip</span> <span class="n">openssl</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
<p>In pacco, the hierarchy of “things” are remote-&gt;registry-&gt;binary. One remote simply means one directory in
the remote server. Registry mean one family of package (e.g., openssl, boost, etc.) and binary means one specific build
of the registry. Check the command by <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">-h</span></code></p>
<p>Now let us set up a remote. For this tutorial, we will be using a locally hosted nexus2 docker server.
You can see the guide for installing the nexus from <a class="reference external" href="https://github.com/sonatype/docker-nexus">here</a>.
After you run the server, add a hosted repository of provider <code class="docutils literal notranslate"><span class="pre">site</span></code>. The url that we will use for this example is
<code class="docutils literal notranslate"><span class="pre">http://localhost:8081/nexus/content/sites/pacco-remote/</span></code></p>
</div>
<div class="section" id="uploading">
<h3>Uploading<a class="headerlink" href="#uploading" title="Permalink to this headline">¶</a></h3>
<p>If you run <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">remote</span> <span class="pre">-h</span></code> you shall get something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pacco</span> <span class="n">remote</span> <span class="n">add</span>           <span class="n">Add</span> <span class="n">a</span> <span class="n">remote</span><span class="o">.</span>
<span class="n">pacco</span> <span class="n">remote</span> <span class="nb">list</span>          <span class="n">List</span> <span class="n">existing</span> <span class="n">remotes</span><span class="o">.</span>
<span class="n">pacco</span> <span class="n">remote</span> <span class="n">list_default</span>  <span class="n">List</span> <span class="n">default</span> <span class="n">remote</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span>
<span class="n">pacco</span> <span class="n">remote</span> <span class="n">remove</span>        <span class="n">Remove</span> <span class="n">a</span> <span class="n">remote</span><span class="o">.</span>
<span class="n">pacco</span> <span class="n">remote</span> <span class="n">set_default</span>   <span class="n">Set</span> <span class="n">default</span> <span class="n">remote</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>We will use <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">remote</span> <span class="pre">add</span></code> to set up a remote. Use <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">-h</span></code> to see the arguments needed.
For now we will do <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">docker-remote</span> <span class="pre">nexus_site</span> <span class="pre">http://localhost:8081/nexus/content/sites/pacco-remote/,admin,admin123</span></code></p>
<p>After you successfully added the remote, check it with <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">remote</span> <span class="pre">list</span></code>.</p>
<p>Now, we shall add a registry to the remote. See how by checking <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">registry</span> <span class="pre">-h</span></code>. In this case, we can do
<code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">registry</span> <span class="pre">add</span> <span class="pre">docker-remote</span> <span class="pre">openssl</span> <span class="pre">version,type</span></code>. The <code class="docutils literal notranslate"><span class="pre">version,type</span></code> is a comma separated list (no space)
to indicate what is the parameters for the binaries. In this case, we actually storing a source code, so the version and
the openssl type (the “d”) shall be enough.</p>
<p>Now check it with <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">registry</span> <span class="pre">list</span> <span class="pre">docker-remote</span></code>. Now we can upload the binary by
<code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">binary</span> <span class="pre">upload</span> <span class="pre">docker-remote</span> <span class="pre">openssl</span> <span class="pre">./openssl</span> <span class="pre">version=1.1.1,type=d</span></code></p>
<p>Now you shall be able to browse your nexus and see that the files is uploaded.</p>
</div>
<div class="section" id="using">
<h3>Using<a class="headerlink" href="#using" title="Permalink to this headline">¶</a></h3>
<p>There is two way of using the binary that is already uploaded, one is to download directly to your project directory,
or get a pointer from pacco and use it from the pacco cache.</p>
<div class="section" id="download-to-project">
<h4>Download to project<a class="headerlink" href="#download-to-project" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">binary</span> <span class="pre">download</span> <span class="pre">docker-remote</span> <span class="pre">openssl</span> <span class="pre">./openssl-download</span> <span class="pre">version=1.1.1,type=d</span></code></p>
</div>
<div class="section" id="use-cache">
<h4>Use cache<a class="headerlink" href="#use-cache" title="Permalink to this headline">¶</a></h4>
<p>When you download a new binary, pacco will actually store it into a cache and will not redownload if the parameter
configuration is the same. (you can force a fresh download by adding the flag <code class="docutils literal notranslate"><span class="pre">--fresh-download</span></code>). Because you
might not want to have the whole copy for each of the project you are working on, pacco actually helps you to refer
to the binary cache location by using <code class="docutils literal notranslate"><span class="pre">pacco</span> <span class="pre">binary</span> <span class="pre">get_location</span> <span class="pre">openssl</span> <span class="pre">version=1.1.1,type=d</span></code> . And it will output
the directory of the installation
<code class="docutils literal notranslate"><span class="pre">/Users/kevin/.pacco_cache/__pacco_registry_name=openssl==type=d==version=1.1.1/bin</span></code>. To utilize this even better,
you shall not store the value directly in your project build script, but rather you can call the command online:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export OPENSSL_DIR=$(pacco binary get_location openssl version=1.1.1,type=d)
</pre></div>
</div>
<p>Now you can use the variable <code class="docutils literal notranslate"><span class="pre">OPENSSL_DIR</span></code> in your build script as you need.</p>
</div>
</div>
</div>
<div class="section" id="next-step">
<h2>Next step<a class="headerlink" href="#next-step" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="advanced_tutorial.html">Advanced Tutorial</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #424770;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #525F7F;
    }
     /* unvisited link */
    .wy-nav-content a:link {
      color: #6772e5;
    }

    /* visited link */
    .wy-nav-content a:visited {
      color: #6772e5;
    }

    /* mouse over link */
    .wy-nav-content a:hover {
      color: #050505;
    }

    /* selected link */
    .wy-nav-content a:active {
      color: #050505;
    }

    code.docutils.literal {
      color: #43458B;
    }

  </style>


</body>
</html>